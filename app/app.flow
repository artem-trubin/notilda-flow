import material/material;

import app/mock_data;
import app/state/state;
import app/view/view_router;

export {
  makeApp(m : MaterialManager) -> MAppStructure;
}

makeApp(m : MaterialManager) -> MAppStructure {
  state = NotildaState(makeEmptyState() with manager = m);
  next(state.notesB, makeMockNotes()); // TODO: Change to real data loading
  next(state.usersB, makeMockUsers());

  content = makeViewRouter(state);

  MAppStructure([MContent(content)], []);
}
