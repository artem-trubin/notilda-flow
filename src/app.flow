import material/material;

import src/notes;
import src/fab;

export {
  makeApp() -> Material;
}

makeHeader(sideNavExpander : DynamicBehaviour<bool>) -> MAppBar {
  title = MText("Notilda", []);
  rightElems = [];
  style = [
    makeFab()
  ];

  toolBar = MToolbar(sideNavExpander, title, rightElems, style);

  MAppBar(toolBar);
}

makeSideNav(sideNavExpander : DynamicBehaviour<bool>) -> MLeftNav {
  header = MSNSmallHead([MText("This is side nav", [])]);
  list = MText("This will be list", []);
  style = [];

  content = MSideNav(header, list, sideNavExpander, style);

  MLeftNav(content, sideNavExpander, [])
}

makeApp() -> Material {
  notes = createMockNotes();

  sideNavExpander = make(false);

  header = makeHeader(sideNavExpander);
  sideNav = makeSideNav(sideNavExpander);

  content = MContent(
    MLinesA(notes)
  );

  MAppStructure([header, sideNav, content], []);
}
