import math/crypto;

import src/data/structs;

export {
  // Notes
  createNote(
    text : string,
    onDone : (Note) -> void
  ) -> void;

  editNote(
    note,
    newText : string,
    onDone : (Note) -> void
  ) -> void;
}

createNote(
  text : string,
  onDone : (Note) -> void
) -> void {
  newId = generateUID("", "", 16);

  note = Note(newId, text);

  onDone(note)
};

editNote(
  note : Note,
  newText : string,
  onDone : (Note) -> void
) -> void {
  newNote = Note(note with text = newText);

  onDone(newNote)
};
